(this["webpackJsonptest-task"]=this["webpackJsonptest-task"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(22),r=n.n(s),i=(n(28),n(29),n(7)),l=n(6),o=n(9),b=n.n(o),j=n(13),d=n.n(j),u=n(23),O=n(1),h=function(){return Object(O.jsx)("div",{className:"d-flex justify-content-center ",children:Object(O.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},m=(n(50),function(e){var t=e.film,n=Object(c.useState)(!1),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),m=j[0],p=j[1],f=Object(c.useState)([]),x=Object(l.a)(f,2),v=x[0],g=x[1],N=Object(c.useState)([]),S=Object(l.a)(N,2),w=S[0],y=S[1],C=function(){var e=Object(u.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Promise.all(t.planets.map((function(e){return b.a.get("https://swapi.dev/api".concat(e.slice(20)))})));case 3:return n=e.sent,e.next=6,Promise.all(t.starships.map((function(e){return b.a.get("https://swapi.dev/api".concat(e.slice(20)))})));case 6:c=e.sent,g((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n.map((function(e){return e.data.name}))))})),y((function(e){return[].concat(Object(i.a)(e),Object(i.a)(c.map((function(e){return e.data.name}))))})),p(!1),r(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"card film_card",children:Object(O.jsxs)("div",{className:"card-body ",children:[Object(O.jsx)("div",{className:"title",children:Object(O.jsxs)("b",{children:[" ",Object(O.jsx)("big",{children:t.title})," "]})}),Object(O.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:C,disabled:s,children:m?Object(O.jsx)(h,{}):"Show Details"}),s&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("ol",{className:"detailed_body",children:[Object(O.jsxs)("li",{className:"detailed_item",children:[Object(O.jsx)("b",{children:"Premier : "}),t.release_date]}),Object(O.jsxs)("li",{className:"detailed_item",children:[Object(O.jsx)("b",{children:" Director : "})," ",t.director]}),Object(O.jsxs)("li",{className:"detailed_item",children:[Object(O.jsx)("b",{children:"Producers : "}),"  ",t.producer]}),Object(O.jsxs)("li",{className:"detailed_item",children:[Object(O.jsx)("b",{children:"Planets :"}),"  ",v.join(", ")]}),Object(O.jsxs)("li",{className:"detailed_item",children:[Object(O.jsx)("b",{children:"Starships :"}),"  ",w.join(", ")]}),Object(O.jsx)("li",{className:"detailed_item",children:Object(O.jsx)("i",{children:t.opening_crawl})})]}),Object(O.jsx)("button",{type:"button",className:"btn-close btn-sm",onClick:function(){r(!1),g([]),y([])}})]})]})})}),p=function(e){var t=e.setSearchTerm,n=(e.searchTerm,e.sorted),c=e.setSorted,a=function(){c(!n)};return Object(O.jsx)("div",{className:"sticky-top",children:Object(O.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("a",{className:"navbar-brand",href:"/",children:"SW Films"}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{className:"navbar-toggler-icon"})}),n?Object(O.jsx)("button",{type:"button",className:"btn btn btn-outline-success",onClick:a,children:"Unsort"}):Object(O.jsx)("button",{type:"button",className:"btn btn btn-outline-success",onClick:a,children:"Sort by alphabet"})]}),Object(O.jsx)("form",{className:"d-flex",onSubmit:function(e){e.preventDefault()},children:Object(O.jsx)("input",{className:"form-control me-2",placeholder:"Search","aria-label":"Search",onChange:function(e){t(e.target.value)}})})]})})},f=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),o=r[0],j=r[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),h=u[0],f=u[1],x=Object(i.a)(n);Object(c.useEffect)((function(){b.a.get("https://swapi.dev/api/films").then((function(e){a(e.data.results)}))}),[]);var v,g=function(e){return Object(O.jsx)(m,{film:e})};return Object(O.jsxs)("div",{children:[Object(O.jsx)(p,{setSearchTerm:j,searchTerm:o,sorted:h,setSorted:f}),h?x.sort((function(e,t){return e.title>t.title?1:e.title<t.title?-1:0})).filter((function(e){return""===o||e.title.toLowerCase().includes(o.toLowerCase())?e:void 0})).map(g):(v=n,v.filter((function(e){return""===o||e.title.toLowerCase().includes(o.toLowerCase())?e:void 0}))).map(g)]})};var x=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(f,{})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},g=n(54),N=n(53),S=new g.a;r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(N.a,{client:S,children:Object(O.jsx)(x,{})})}),document.getElementById("root")),v()}},[[51,1,2]]]);
//# sourceMappingURL=main.3f7f48a6.chunk.js.map